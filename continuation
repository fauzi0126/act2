#include <iosstream> 
#include <string>
#include <windows.h>
#include <direct.h>
using namespace std;

 void listFiles(const string&path) {

  cout << "Listing files in Directory" << path << \n;
  WIN32_FIND_DATA findFileData;
  HANDLE hFind=FindFirstFile(path+"/").c_str(), findFindData);
    if(hFind==INVALID_HANDLE_VALUE){
  cout<< "error could not open directory" << \n;
  return;
}

  do {
  cout << findFileData.cFileName<< \n;
} while (FileNextFile(hFind&findFileData)!=0) {
    if (m_kdir(path.cstr())==0){
  cout << "directory created successfully. " << \n;
}
    else { 
  cout << "Failed to create directory. It may already Exist." \n;
 }
}

void changeDirectory (string& currPath.const string& newPath){
  cout << "changing Directory to:' <<newPath.const << \n;
    if(_chdir(newPath.c_str())==0){
currPath=newPath
  cout << "current working Directory" << currPath <<\n;
}
    else {
  cout << "Error: could not change directory " << \n;

 }
}

 void showMenu () {
  cout << "\n Menu \n";
  cout << "1. List Files" << \n;
  cout << "2. Create Directory" << \n;
  cout << "3. Change Directory" << \n;
  cout << "4. Exit" << \n;
  cout << "Enter your choice: ";
}

int main () {
char_cwd[1024];
 if(!_getcwd(cwd.sizeof(cwd))){
  cout << "Error could not get the current working directory " << \n;
return1;

}
string currPath= cwd;
int choice;

do {
 showMenu ();
 cin >> choice;
  switch (choice) {

 case 1: {
  listFiles(currPath);
  break;
}
 case 2: {
  string newDir;
  cout << "Enter the name of the new Directory:" \n;
  break;
 case 3: {
  string newPath;
  cout << "Enter the path to change to: ";
  cin >> newPath;
  changeDirectory (currPath, newPath);
  break;
}
 case 4: {
  cout << "exit. " << \n;
  break;
}

default: {
  cout << "invalid choice. Please try again. " << \n;
  break;
}
}

} while (choice !=4);

return 0;
}
